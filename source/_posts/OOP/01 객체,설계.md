---
title: 01. 객체,설계
catalog: true
date: 2019-07-10 23:55:15
subtitle: 오브젝트 - 코드로 이해하는 객체지향 설계를 읽고
header-img: ""
categories:
- 객체지향프로그래밍
tags: 
- Book
---

### 티켓 판매 애플리케이션 기능 설명
---
- 이벤트 당첨된 사람은 당첨 여부 확인 후 입장 시킨다.
- 아닌 사람은 티켓을 구매하여 입장 시킨다.
- 도메인은 관람객, 가방, 초대권, 티켓, 소극장 이다.


### 무엇이 문제인가
---
- 관람객, 판매원이 스스로 해동해야 하는 것들 (예, 관람객이 자기 가방에서 티켓을 꺼내는 행동)을 소극장이 하고 있다.

- 소극장이 한다는 것은 접근을 허용했다는 것이고 이는 불필요한 접근으로 불필요한 코드를 만들어 낸다. 결국 코드 변경이 이루어 졌을 때 의존성이 생겨 이곳 저곳 수정해야 하는 일이 발생한다.

- 

### 문제 분석
---

#### 예상을 빗나가는 코드
- 관람객, 판매원이 스스로 해야 할 일을 소극장이 접근한다. 상식에 맞지 않음
- 상식에 벗어나는 코드는 이해하기가 어렵고 개발자끼리 서로 소통하기도 어렵다.


#### 캡슐화가 제대로 되지 않았다.
- 캡슐화가 제대로 안되면 외부에서 코드 접근이 쉽다는 말이다.
- 그러면 쉽게 외부와 연결이 이루어져 의존성을 강하게 결합시키는 꼴이 된다.
- 결국 변경에 취약하게 된다.

#### 변경에 취약한 코드
- 객체지향으로 설계하고 구현하는 이유는 빈번하게 바뀔 요구사항을 쉽게 코드를 변경/수정 할 수 있게 하기 위함이다.
- 의존성이 강하게 결합되면 변경에 취약하다.


### 설계 개선하기
---

#### 자율성을 높이자
- 객체에 역활과 책임에 맞게 최대한 내부적으로 수행한다.
- 외부로는 인터페이스(호출 함수, 수퍼클래스 등)를 제공한다.
- 외부에서는 인터페이스만 바라 보면 되므로 캡슐화한 객체가 변경되더라도 외부에는 영향을 미치지 않는다.


### 핵심 내용
---
- 객체 내부는 자율성을 가지고 최소한에 접근으로 의존성을 최소화 한다.
- 그러면 변경에 자유롭다. 왜냐면 외부에서 접근하여 코드를 망치지 않으므로
- 진정한 객체지향 설계로 나아가는 것은 협력하는 객체들 사이의 의존성을 적절하게 조절함으로써 변경에는 용이한 설계를 만드는 것